#!/usr/bin/env python

import argparse
import logging

import apsis.service.client

#-------------------------------------------------------------------------------

logging.basicConfig(level=logging.INFO)

parser = argparse.ArgumentParser()
parser.add_argument(
    "--host", metavar="HOST", default="localhost",
    help="connect to HOST [def: localhost]")
parser.add_argument(
    "--port", metavar="PORT", default=apsis.service.DEFAULT_PORT,
    help=f"connect to PORT [def: {apsis.service.DEFAULT_PORT}]")

args = parser.parse_args()

client = apsis.service.client.Client(host=args.host, port=args.port)
jobs = list(client.get_jobs())
print(jobs)

